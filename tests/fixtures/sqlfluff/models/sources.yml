version: 2

sources:
  - name: raw
    description: Raw data loaded from external sources
    schema: raw
    tables:
      - name: customers
        description: Raw customer data from CRM system
        columns:
          - name: customer_id
            description: Unique customer identifier
          - name: first_name
            description: Customer's first name
          - name: last_name
            description: Customer's last name
          - name: email
            description: Customer's email address
          - name: created_at
            description: Timestamp when customer record was created
          - name: status
            description: Customer status (active, inactive, churned)

      - name: products
        description: Product catalog data
        columns:
          - name: product_id
            description: Unique product identifier
          - name: product_name
            description: Name of the product
          - name: category
            description: Product category
          - name: price
            description: Product price in USD
          - name: created_at
            description: Timestamp when product was added

      - name: orders
        description: Order transaction data
        columns:
          - name: order_id
            description: Unique order identifier
          - name: customer_id
            description: Reference to customer
          - name: order_date
            description: Date order was placed
          - name: total_amount
            description: Total order amount in USD
          - name: status
            description: Order status

      - name: order_items
        description: Individual items within orders
        columns:
          - name: order_item_id
            description: Unique order item identifier
          - name: order_id
            description: Reference to order
          - name: product_id
            description: Reference to product
          - name: quantity
            description: Quantity ordered
          - name: unit_price
            description: Price per unit at time of order

  - name: external
    description: External data from cloud storage
    schema: external
    tables:
      - name: events
        description: Event stream data from Kafka
        meta:
          file_format: delta
          location: "s3://data-lake/events/"
